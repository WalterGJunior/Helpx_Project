@{
    ViewBag.Title = "Servicos";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@{
    
    if (ViewBag.Validar != null)
    {
        int valor = Convert.ToInt32(ViewBag.Validar);

        if (valor == 1)
        {
            <div class="alert alert-success">
                 Dados Gravados com suceso
            </div>        
        }
        else if (valor == 0)
        {     
            <div class="alert alert-warning">
                Preencher o(s) campo(s) obrigatório(s).
            </div>
        }
        else if (valor == -1)
        {
            <div class="alert alert-danger">
                Ocorreu um erro na operação
            </div>
        }
    }
}

<div class="row">
    <div class="col-lg-12">
        <h1 class="page-header">Consultar Serviços 
            <a href="/Clientes/Clientes">
                <button type="button" class="btn btn-primary">Novo</button>
            </a>
        </h1>     
    </div>
    <!-- /.col-lg-12 -->
</div>

@{if (ViewBag.ListaClientes != null)
  {
    <div class="row">
                <div class="col-md-12">
                    <!-- Advanced Tables -->
                    <div class="panel panel-default">
                        <div class="panel-heading">
                             Clientes Cadastrados
                        </div>
                        <div class="panel-body">
                            <div class="table-responsive">
                                <table class="table table-striped table-bordered table-hover" id="dataTables-example">
                                    <thead>
                                        <tr>
                                            <th>CPF / CNPJ</th>
                                            <th>RG</th>
                                            <th>Nome do Cliente</th>
                                            <th>Nome Fantasia</th>
                                            <th>Razão Social</th>
                                            <th>Telefone</th>
                                            <th>Celular</th>
                                            <th>Rua</th>
                                            <th>Número</th>
                                            <th>Complemento</th>
                                            <th>Bairro</th>
                                            <th>Cep</th>
                                            <th>Ação</th>
                                        </tr>
                                    </thead>
                                    <tbody>

                                        @foreach (var item in ViewBag.ListaClientes)
                                        {
                                            using(Html.BeginForm("AlterarClientes","Clientes", FormMethod.Post))
                                            {
                                                <tr class="odd gradeX">
                                                    <td>@item.CPF_CNPJ</td>
                                                    <td>@item.RG</td>
                                                    <td>@item.NomeCliente</td>
                                                    <td>@item.RazaoSocial</td>
                                                    <td>@item.NomeFantasia</td>
                                                    <td>@item.NumeroTelefone</td>
                                                    <td>@item.NumeroCelular</td>
                                                    <td>@item.NomeRua</td>
                                                    <td>@item.NumeroCasa</td>
                                                    <td>@item.ComplementoCasa</td>
                                                    <td>@item.NomeBairro</td>
                                                    <td>@item.NumeroCep</td>
                                                    <td>
                                                        <center><button type="submit" name="btn_alterar">Alterar</Button></center>
                                                 
                                                        <input type="hidden" name="id" value="@item.id" />
                                                        <input type="hidden" name="cpf_cnpf" value="@item.CPF_CNPJ" />
                                                        <input type="hidden" name="rg" value="@item.RG" />
                                                        <input type="hidden" name="nome" value="@item.NomeCliente" />
                                                        <input type="hidden" name="razao_social" value="@item.RazaoSocial" />
                                                        <input type="hidden" name="nome_fantasia" value="@item.NomeFantasia" />
                                                        <input type="hidden" name="telefone" value="@item.NumeroTelefone" />
                                                        <input type="hidden" name="celular" value="@item.NumeroCelular" />
                                                        <input type="hidden" name="rua" value="@item.NomeRua" />
                                                        <input type="hidden" name="numero" value="@item.NumeroCasa" />
                                                        <input type="hidden" name="complemente" value="@item.ComplementoCasa" />
                                                        <input type="hidden" name="bairro" value="@item.NomeBairro" />
                                                        <input type="hidden" name="cep" value="@item.NumeroCep" />
                                                    </td>
                                                </tr>
                                            }                                            
                                        }
                                                                               
                                    </tbody>
                                </table>
                            </div>
                            
                        </div>
                    </div>
                    <!--End Advanced Tables -->
                </div>
            </div>
  }     
}
